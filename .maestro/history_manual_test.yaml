appId: co.solidi.mobile.test
---
# History Page E2E Test - Manual Navigation
# Tests Transaction History and Orders tabs with infinite scroll

# Step 1: Launch app and wait for it to fully load
- launchApp
- extendedWaitUntil:
    visible: ".*"
    timeout: 45000
- takeScreenshot: 01_app_launched

# Step 2: Tap at bottom right to go to History (coordinate-based)
# Bottom navigation bar: Wallet (left), Transfer (center), History (right)
- tapOn:
    point: "83%,96%"
- extendedWaitUntil:
    visible: ".*"
    timeout: 5000
- takeScreenshot: 02_tapped_history_tab

# Step 3: Wait and take screenshot to see what's on screen
- extendedWaitUntil:
    visible: ".*"
    timeout: 5000
- takeScreenshot: 03_history_screen

# Step 4: Test scrolling (infinite scroll test)
- scroll
- extendedWaitUntil:
    visible: ".*"
    timeout: 2000
- takeScreenshot: 04_scroll_1

- scroll
- extendedWaitUntil:
    visible: ".*"
    timeout: 2000
- takeScreenshot: 05_scroll_2

- scroll
- extendedWaitUntil:
    visible: ".*"
    timeout: 2000
- takeScreenshot: 06_scroll_3

- scroll
- extendedWaitUntil:
    visible: ".*"
    timeout: 2000
- takeScreenshot: 07_scroll_4

- scroll
- extendedWaitUntil:
    visible: ".*"
    timeout: 2000
- takeScreenshot: 08_scroll_5

# Step 5: Try to find and tap tab switcher (if visible)
# Look for "Orders" or "Transaction History" tabs
- runFlow:
    when:
      visible: "Orders"
    commands:
      - tapOn: "Orders"
      - extendedWaitUntil:
          visible: ".*"
          timeout: 3000
      - takeScreenshot: 09_orders_tab_tapped

# Step 6: Test scrolling on second tab (if we switched)
- scroll
- extendedWaitUntil:
    visible: ".*"
    timeout: 2000
- takeScreenshot: 10_second_tab_scroll_1

- scroll
- extendedWaitUntil:
    visible: ".*"
    timeout: 2000
- takeScreenshot: 11_second_tab_scroll_2

- scroll
- extendedWaitUntil:
    visible: ".*"
    timeout: 2000
- takeScreenshot: 12_second_tab_scroll_3

# Step 7: Try to switch back to first tab
- runFlow:
    when:
      visible: "Transaction History|Transactions"
    commands:
      - tapOn: "Transaction History|Transactions"
      - extendedWaitUntil:
          visible: ".*"
          timeout: 3000
      - takeScreenshot: 13_back_to_transactions

# Step 8: Final screenshot
- takeScreenshot: 14_test_complete

# Test completed! 
# Review screenshots to verify:
# - History page loaded
# - Infinite scroll worked (multiple scroll screenshots)
# - Tab switching worked (if tabs were visible)
